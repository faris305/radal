const fs = require('fs');
const path = require('path');

const startTimeFile = './startTime.txt';

// Fungsi untuk mendapatkan tanggal awal dari file atau set jika tidak ada
exports.getStartTime = () => {
  let startTime;
  try {
    startTime = parseInt(fs.readFileSync(startTimeFile, 'utf-8').trim());
  } catch (err) {
    startTime = Date.now();
    fs.writeFileSync(startTimeFile, startTime.toString());
  }
  return new Date(startTime);
};

// Fungsi untuk memperbarui tanggal awal jika perlu
exports.updateStartTime = (newStartTime) => {
  fs.writeFileSync(startTimeFile, newStartTime.toString());
};
